# Production Plan: Top Tuinen Mobile App
## Date: 2026-02-01

---

## Executive Summary

This plan transforms the current mobile app (31% complete) into a **production-ready** application with UI/UX that matches the existing web app. The focus is on creating a cohesive design system, implementing core functionality, and achieving App Store readiness.

---

## Part 1: Design System Implementation

### 1.1 Color Palette (from Web App)

Translate the web app's OKLCH colors to React Native hex/rgba values:

```typescript
// theme/colors.ts
export const colors = {
  // Base Colors (Light Mode)
  background: '#FFFFFF',
  foreground: '#1A1A1A',
  card: '#FFFFFF',
  cardForeground: '#1A1A1A',

  // Primary
  primary: '#2D2D2D',
  primaryForeground: '#FAFAFA',

  // Secondary
  secondary: '#F5F5F5',
  secondaryForeground: '#2D2D2D',

  // Muted
  muted: '#F5F5F5',
  mutedForeground: '#737373',

  // Accent
  accent: '#F5F5F5',
  accentForeground: '#2D2D2D',

  // Destructive
  destructive: '#DC2626',

  // Border & Input
  border: '#E5E5E5',
  input: '#E5E5E5',
  ring: '#A3A3A3',

  // Scope Colors (Garden Theme - Brand Identity)
  scope: {
    grondwerk: '#8B7355',    // Earth/Brown
    bestrating: '#6B7280',   // Stone/Gray
    borders: '#2D5A27',      // Forest Green
    gras: '#4ADE80',         // Bright Grass Green
    houtwerk: '#92400E',     // Warm Wood
    water: '#3B82F6',        // Blue Water
    specials: '#9333EA',     // Purple Specials
  },

  // Trend Colors
  trend: {
    positive: '#22C55E',     // Green
    negative: '#EF4444',     // Red
    neutral: '#6B7280',      // Gray
  },

  // Chart Colors
  chart: {
    1: '#F97316',  // Orange
    2: '#06B6D4',  // Cyan
    3: '#6366F1',  // Indigo
    4: '#FACC15',  // Yellow
    5: '#FB923C',  // Light Orange
  },
};

// Dark Mode Colors
export const darkColors = {
  background: '#1A1A1A',
  foreground: '#FAFAFA',
  card: '#2D2D2D',
  cardForeground: '#FAFAFA',
  primary: '#E5E5E5',
  primaryForeground: '#2D2D2D',
  secondary: '#404040',
  secondaryForeground: '#FAFAFA',
  muted: '#3D3D3D',
  mutedForeground: '#A3A3A3',
  accent: '#404040',
  accentForeground: '#FAFAFA',
  destructive: '#F87171',
  border: 'rgba(255,255,255,0.2)',
  input: 'rgba(255,255,255,0.15)',
  ring: '#737373',
};
```

### 1.2 Typography

```typescript
// theme/typography.ts
export const typography = {
  fontFamily: {
    sans: 'System',  // Use system font (San Francisco on iOS, Roboto on Android)
    mono: 'Courier',
  },
  fontSize: {
    xs: 12,
    sm: 14,
    base: 16,
    lg: 18,
    xl: 20,
    '2xl': 24,
    '3xl': 30,
    '4xl': 36,
  },
  fontWeight: {
    normal: '400',
    medium: '500',
    semibold: '600',
    bold: '700',
  },
  lineHeight: {
    tight: 1.25,
    normal: 1.5,
    relaxed: 1.75,
  },
};
```

### 1.3 Spacing Scale

```typescript
// theme/spacing.ts
export const spacing = {
  xs: 4,    // 0.25rem
  sm: 8,    // 0.5rem
  md: 16,   // 1rem
  lg: 24,   // 1.5rem
  xl: 32,   // 2rem
  '2xl': 48, // 3rem
};
```

### 1.4 Border Radius

```typescript
// theme/radius.ts
export const radius = {
  sm: 6,
  md: 8,
  lg: 10,   // Base radius
  xl: 14,
  '2xl': 18,
  '3xl': 22,
  full: 9999,
};
```

### 1.5 Shadows

```typescript
// theme/shadows.ts
import { Platform } from 'react-native';

export const shadows = {
  card: Platform.select({
    ios: {
      shadowColor: '#000',
      shadowOffset: { width: 0, height: 2 },
      shadowOpacity: 0.08,
      shadowRadius: 8,
    },
    android: {
      elevation: 3,
    },
  }),
  cardHover: Platform.select({
    ios: {
      shadowColor: '#000',
      shadowOffset: { width: 0, height: 8 },
      shadowOpacity: 0.1,
      shadowRadius: 25,
    },
    android: {
      elevation: 6,
    },
  }),
  modal: Platform.select({
    ios: {
      shadowColor: '#000',
      shadowOffset: { width: 0, height: 20 },
      shadowOpacity: 0.25,
      shadowRadius: 60,
    },
    android: {
      elevation: 24,
    },
  }),
};
```

---

## Part 2: UI Component Library

### 2.1 Priority Tier 1 (Must Have)

| Component | Web Equivalent | Mobile Implementation |
|-----------|---------------|----------------------|
| Button | `button.tsx` | Primary, Secondary, Outline, Destructive, Ghost variants |
| Input | `input.tsx` | With feedback states, 44px touch target |
| Card | `card.tsx` | Card, CardHeader, CardContent, CardFooter |
| Badge | `badge.tsx` | Status badges with scope colors |
| Label | `label.tsx` | Form labels |
| AnimatedNumber | `animated-number.tsx` | Dutch locale, tabular nums |
| PriceDisplay | `price-display.tsx` | Euro formatting |
| FormSection | `form-section.tsx` | Grouped form fields |

### 2.2 Priority Tier 2 (High Priority)

| Component | Web Equivalent | Mobile Implementation |
|-----------|---------------|----------------------|
| BottomSheet | `bottom-sheet.tsx` | Modal from bottom, drag to dismiss |
| FloatingActionBar | `floating-action-bar.tsx` | Sticky bottom actions |
| SwipeableRow | `swipeable-row.tsx` | Swipe to reveal actions |
| Tabs | `tabs.tsx` | Tab navigation |
| StatusBadge | `status-badge.tsx` | Pulse animation |
| TrendIndicator | `trend-indicator.tsx` | Up/down arrows |
| ScopeTag | `scope-tag.tsx` | Colored scope labels |

### 2.3 Priority Tier 3 (Medium Priority)

| Component | Web Equivalent | Mobile Implementation |
|-----------|---------------|----------------------|
| DonutChart | `donut-chart.tsx` | SVG-based with legend |
| Skeleton | `skeleton.tsx` | Loading placeholder |
| OfflineIndicator | `offline-indicator.tsx` | Network status |
| AnimatedButton | `animated-button.tsx` | Loading, success states |
| Accordion | `accordion.tsx` | Collapsible sections |

### 2.4 Component Implementation Plan

```
Week 1: Core Components
â”œâ”€â”€ Button (all variants)
â”œâ”€â”€ Input (with feedback)
â”œâ”€â”€ Card (with subcomponents)
â”œâ”€â”€ Badge
â””â”€â”€ Label

Week 2: Data Display
â”œâ”€â”€ AnimatedNumber
â”œâ”€â”€ PriceDisplay
â”œâ”€â”€ StatusBadge
â”œâ”€â”€ TrendIndicator
â””â”€â”€ ScopeTag

Week 3: Layout & Forms
â”œâ”€â”€ FormSection
â”œâ”€â”€ BottomSheet
â”œâ”€â”€ FloatingActionBar
â”œâ”€â”€ Tabs
â””â”€â”€ SwipeableRow

Week 4: Advanced
â”œâ”€â”€ DonutChart
â”œâ”€â”€ Skeleton
â”œâ”€â”€ OfflineIndicator
â”œâ”€â”€ AnimatedButton
â””â”€â”€ Accordion
```

---

## Part 3: Screen Implementation

### 3.1 Dashboard (Home Tab)

**Design Goals:**
- Match web dashboard layout adapted for mobile
- Quick access to start/stop work
- Today's summary at a glance

**Components Used:**
- Card with status (ingeklokt/niet ingeklokt)
- AnimatedNumber for hours
- TrendIndicator for comparison
- FloatingActionBar for quick actions

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Welkom, [Naam]        â”‚
â”‚  [Datum]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Status Card       â”‚  â”‚
â”‚  â”‚ ğŸŸ¢ Ingeklokt      â”‚  â”‚
â”‚  â”‚ Project: [naam]   â”‚  â”‚
â”‚  â”‚ Timer: 02:34:15   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Vandaag               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ 6.5 â”‚ â”‚ 2   â”‚       â”‚
â”‚  â”‚ uur â”‚ â”‚proj â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Deze Week             â”‚
â”‚  [DonutChart]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [Start/Stop]    â”‚   â”‚ <- FAB
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Uren Tab (Time Tracking)

**Design Goals:**
- Large, easy-to-tap timer controls
- Project selection with scope colors
- Daily/weekly view toggle

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Uren Registratie      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Project Selector]     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    03:42:18       â”‚  â”‚  <- Large timer
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [Pauze] [Stop]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Dag] [Week]          â”‚  <- Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Vandaag               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Project A  2.5u   â”‚  â”‚
â”‚  â”‚ ğŸŸ¢ Gras           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Project B  4.0u   â”‚  â”‚
â”‚  â”‚ ğŸŸ¤ Bestrating     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Chat Tab

**Design Goals:**
- Match WhatsApp/iMessage UX patterns
- Real-time updates
- Unread badges

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Chat                  â”‚
â”‚  [Team] [DM] [Project] â”‚  <- Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¤ Jan   14:32    â”‚  â”‚
â”‚  â”‚ Laatste bericht..â”‚  â”‚
â”‚  â”‚              (3) â”‚  â”‚  <- Unread badge
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘¤ Team   13:15   â”‚  â”‚
â”‚  â”‚ Announcement...   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Message Input]  [â†’]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Profile Tab

**Design Goals:**
- Clean settings layout
- Match web profile design
- Quick access to privacy/notifications

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Avatar]              â”‚
â”‚  [Naam]                â”‚
â”‚  [Functie]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Account               â”‚
â”‚  > Profiel bewerken    â”‚
â”‚  > Notificaties        â”‚
â”‚  > Privacy             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  App                   â”‚
â”‚  > Thema              â”‚
â”‚  > Taal               â”‚
â”‚  > Biometrie          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Uitloggen]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  v1.0.0                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Part 4: Implementation Phases

### Phase A: Design System & Components (Week 1-2)

**Goal:** Build the foundation for consistent UI

**Tasks:**
1. Create `theme/` folder with colors, typography, spacing, shadows
2. Implement ThemeProvider with dark mode support
3. Build Tier 1 components (Button, Input, Card, Badge, Label)
4. Build AnimatedNumber and PriceDisplay
5. Create component documentation/storybook

**Deliverables:**
- [ ] `theme/colors.ts` - Color palette
- [ ] `theme/typography.ts` - Font styles
- [ ] `theme/spacing.ts` - Spacing scale
- [ ] `theme/shadows.ts` - Shadow definitions
- [ ] `theme/ThemeProvider.tsx` - Context provider
- [ ] `components/ui/Button.tsx` - Enhanced with variants
- [ ] `components/ui/Input.tsx` - With feedback states
- [ ] `components/ui/Card.tsx` - With subcomponents
- [ ] `components/ui/Badge.tsx` - Status badges
- [ ] `components/ui/AnimatedNumber.tsx` - Count animation
- [ ] `components/ui/PriceDisplay.tsx` - Euro formatting

### Phase B: Authentication Flow (Week 2-3)

**Goal:** Complete login with Clerk integration

**Tasks:**
1. Uncomment and activate Clerk integration
2. Implement magic link deep linking
3. Complete biometric authentication flow
4. Add session management hooks
5. Create onboarding screens

**Deliverables:**
- [ ] Working magic link login
- [ ] Deep link handler (`toptuinen://auth/callback`)
- [ ] Biometric setup and login
- [ ] Token refresh hook
- [ ] Welcome/onboarding flow

### Phase C: Core Feature - Uren Registratie (Week 3-5)

**Goal:** Fully functional time tracking with offline support

**Tasks:**
1. Connect dashboard to real Convex data
2. Implement timer logic (start/stop/pause)
3. Project selector with real projects
4. Daily/weekly views with real data
5. Connect sync engine to UI
6. Add sync status indicators

**Deliverables:**
- [ ] Working timer with persistence
- [ ] Project selection from Convex
- [ ] Daily overview with real entries
- [ ] Weekly overview with charts
- [ ] Offline indicator
- [ ] Sync status badge

### Phase D: GPS & Location (Week 5-7)

**Goal:** Background location tracking with consent

**Tasks:**
1. Install expo-location
2. Implement GDPR consent flow
3. Background location tracking
4. Geofencing for auto clock-in/out
5. Battery optimization
6. Location UI indicators

**Deliverables:**
- [ ] Consent dialog with privacy levels
- [ ] Background tracking service
- [ ] Geofence detection
- [ ] Battery-aware tracking
- [ ] Tracking status UI

### Phase E: Chat Module (Week 7-9)

**Goal:** Real-time team communication

**Tasks:**
1. Implement chat Convex mutations/queries
2. Build chat UI with FlashList
3. Push notification setup
4. Direct messaging
5. Project channels

**Deliverables:**
- [ ] Team chat with real-time updates
- [ ] Direct messaging
- [ ] Push notifications working
- [ ] Unread badges

### Phase F: Polish & Launch Prep (Week 9-10)

**Goal:** Production-ready for App Store

**Tasks:**
1. Performance optimization
2. Error handling with Sentry
3. App Store assets (icons, screenshots)
4. TestFlight/Internal testing
5. Final QA

**Deliverables:**
- [ ] < 2s startup time
- [ ] Error tracking live
- [ ] App Store submission ready
- [ ] Privacy policy
- [ ] User documentation

---

## Part 5: Convex Backend Additions

### 5.1 New Mutations Needed

```typescript
// convex/mobile.ts

// Clock In/Out
export const clockIn = mutation({
  args: { projectId: v.optional(v.id('projecten')), latitude: v.optional(v.number()), longitude: v.optional(v.number()) },
  handler: async (ctx, args) => { /* ... */ }
});

export const clockOut = mutation({
  args: { latitude: v.optional(v.number()), longitude: v.optional(v.number()) },
  handler: async (ctx, args) => { /* ... */ }
});

// Sync Operations
export const syncUrenRegistraties = mutation({
  args: { entries: v.array(v.object({ /* ... */ })) },
  handler: async (ctx, args) => { /* ... */ }
});

// Chat
export const sendTeamMessage = mutation({
  args: { channelType: v.string(), projectId: v.optional(v.id('projecten')), message: v.string() },
  handler: async (ctx, args) => { /* ... */ }
});

export const sendDirectMessage = mutation({
  args: { toUserId: v.id('users'), message: v.string() },
  handler: async (ctx, args) => { /* ... */ }
});

// Location
export const startLocationSession = mutation({
  args: { projectId: v.optional(v.id('projecten')), privacyLevel: v.string() },
  handler: async (ctx, args) => { /* ... */ }
});

export const batchInsertLocationData = mutation({
  args: { sessionId: v.id('locationSessions'), points: v.array(v.object({ /* ... */ })) },
  handler: async (ctx, args) => { /* ... */ }
});
```

### 5.2 New Queries Needed

```typescript
// convex/mobile.ts

export const getActiveSession = query({
  args: {},
  handler: async (ctx) => { /* ... */ }
});

export const getTodayHours = query({
  args: {},
  handler: async (ctx) => { /* ... */ }
});

export const getWeekHours = query({
  args: { weekStart: v.string() },
  handler: async (ctx) => { /* ... */ }
});

export const getAssignedProjects = query({
  args: {},
  handler: async (ctx) => { /* ... */ }
});

export const getTeamMessages = query({
  args: { channelType: v.string(), projectId: v.optional(v.id('projecten')), limit: v.number() },
  handler: async (ctx, args) => { /* ... */ }
});

export const getUnreadCounts = query({
  args: {},
  handler: async (ctx) => { /* ... */ }
});
```

---

## Part 6: Dependencies to Install

```bash
# Core dependencies (already installed)
# @clerk/clerk-expo, convex, expo-sqlite, expo-secure-store

# New dependencies needed
npm install --legacy-peer-deps \
  expo-location \
  expo-background-fetch \
  expo-task-manager \
  expo-notifications \
  @shopify/flash-list \
  react-native-reanimated \
  react-native-gesture-handler \
  @gorhom/bottom-sheet \
  @sentry/react-native \
  date-fns
```

---

## Part 7: Quality Checklist

### Performance Targets
- [ ] App startup: < 2 seconds
- [ ] Screen transitions: < 300ms
- [ ] List scrolling: 60 FPS
- [ ] Memory usage: < 150MB
- [ ] Bundle size: < 50MB

### Accessibility
- [ ] All interactive elements: 44px minimum
- [ ] VoiceOver/TalkBack support
- [ ] Reduced motion support
- [ ] Color contrast: WCAG AA

### Offline Capability
- [ ] Time tracking works offline
- [ ] Sync queue visual feedback
- [ ] Conflict resolution UI
- [ ] Offline indicator visible

### Security
- [ ] Biometric authentication
- [ ] Secure token storage
- [ ] Certificate pinning (optional)
- [ ] GDPR consent tracking

---

## Part 8: Timeline Summary

| Week | Phase | Focus | Deliverables |
|------|-------|-------|--------------|
| 1 | A | Design System | Colors, typography, base components |
| 2 | A+B | Components + Auth | UI library, Clerk integration |
| 3 | B+C | Auth + Uren | Login flow, timer basics |
| 4 | C | Uren | Full time tracking |
| 5 | C+D | Uren + GPS | Offline sync, location consent |
| 6 | D | GPS | Background tracking, geofencing |
| 7 | D+E | GPS + Chat | Location complete, chat start |
| 8 | E | Chat | Full messaging, push notifications |
| 9 | E+F | Chat + Polish | DMs, performance optimization |
| 10 | F | Launch | App Store submission |

---

## Part 9: Success Metrics

| KPI | Target | Measurement |
|-----|--------|-------------|
| Startup Time | < 2s | Profiling |
| Crash-free Rate | > 99.5% | Sentry |
| Sync Success | > 99.9% | Convex logs |
| User Adoption | > 90% | Analytics |
| App Store Rating | > 4.5 | Reviews |
| Time Entry Completion | > 95% | Daily data |

---

## Part 10: Risk Mitigation

| Risk | Impact | Mitigation |
|------|--------|------------|
| iOS background location rejected | High | Clear privacy descriptions, foreground service |
| Clerk token refresh issues | Medium | Retry logic, session recovery |
| Offline sync conflicts | Medium | User choice UI, audit logging |
| Push notification delivery | Medium | Multiple channels, in-app fallback |
| App Store rejection | High | Pre-submission review checklist |

---

## Next Immediate Actions (Today)

1. **Create theme folder** with color palette from web app
2. **Enhance Button component** with all variants
3. **Create Input component** with feedback states
4. **Create Card component** with subcomponents
5. **Uncomment Clerk integration** in auth screens
6. **Test login flow** end-to-end

---

*Plan created: 2026-02-01*
*Target completion: Week 10 from start date*
